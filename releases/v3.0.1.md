# Release Notes - v3.0.1

**Release Date:** June 10, 2025  
**Type:** Critical Bug Fix Release

## üêõ Critical Bug Fixes

This patch release fixes critical authentication issues that were preventing all CLI commands from working properly.

## What's Changed

### Critical Fixes
- **Authentication Crisis Resolved**: Fixed `requireAuth` function that was returning raw axios client instead of APIClient instance
  - All commands were failing with 401 Unauthorized errors
  - API client now properly initialized with authentication tokens
- **Module Compatibility**: Replaced ES module `p-limit` with custom CommonJS `ConcurrencyLimiter`
  - Resolved "Cannot use import statement outside a module" errors
- **Response Handling**: Updated all command handlers to work with APIClient's direct data responses
  - Removed unnecessary `response.data` references throughout codebase

### UI Fixes
- **Wizard Display Issues**:
  - Fixed missing ASCII art banner in cyan color
  - Dynamic version loading from package.json (was showing 3.0.0)

### Command-Specific Fixes
- **export-overview**: Fixed missing `generateFilename` function and CSV writer usage
- **export-conversations**: Fixed enum validation schema (`values` ‚Üí `enum`)
- **download-media**: Fixed project endpoint URL construction
- **health-check**: Updated to use APIClient response format
- **categorize**: Fixed response handling in auto-categorize-logic.js
- **usage-analytics**: Improved response handling (partial fix)

## Technical Details

### Root Cause Analysis
The root cause was the authentication refactor in v3.0.0 not being properly integrated:
- APIClient instance creation was missing in the critical `requireAuth` wrapper
- This affected every authenticated command in the CLI
- All test files were updated to match new APIClient behavior

### Testing
- Test coverage maintained at 100% with all 222 tests passing
- All command integration tests updated

## Installation & Update

### New Installation
```bash
# Using install script (recommended)
curl -fsSL https://raw.githubusercontent.com/telletai/tellet-admin-cli/main/install.sh | bash

# Or direct from GitHub
npm install -g git+https://github.com/telletai/tellet-admin-cli.git#v3.0.1
```

### Updating from v3.0.0
```bash
# IMPORTANT: v3.0.0 users must update to fix authentication issues
npm update -g git+https://github.com/telletai/tellet-admin-cli.git
```

## Known Issues
- None - all critical issues from v3.0.0 have been resolved

## Full Changelog
See the [commit history](https://github.com/telletai/tellet-admin-cli/compare/v3.0.0...v3.0.1) for detailed changes.

---
*For support or questions, please visit our [GitHub repository](https://github.com/telletai/tellet-admin-cli).*